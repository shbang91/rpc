"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.exportTypeScriptSchemas = void 0;
const generateTypeScript_1 = require("./generateTypeScript");
const schemas_1 = require("./schemas");
/**
 * Export schemas as TypeScript source code, keyed by the file base name (without `.ts` suffix).
 *
 * @returns a map of file base name => schema source.
 */
function exportTypeScriptSchemas(options = {}) {
    const schemas = new Map();
    for (const schema of Object.values(schemas_1.foxgloveMessageSchemas)) {
        schemas.set(schema.name, (0, generateTypeScript_1.generateTypeScript)(schema, options));
    }
    for (const schema of Object.values(schemas_1.foxgloveEnumSchemas)) {
        schemas.set(schema.name, (0, generateTypeScript_1.generateTypeScript)(schema, options));
    }
    schemas.set("Duration", generateTypeScript_1.DURATION_TS);
    schemas.set("Time", generateTypeScript_1.TIME_TS);
    const allSchemaNames = [
        ...Object.values(schemas_1.foxgloveMessageSchemas),
        ...Object.values(schemas_1.foxgloveEnumSchemas),
    ].sort((a, b) => a.name.localeCompare(b.name));
    let indexTS = "";
    for (const schema of allSchemaNames) {
        indexTS += `export * from "./${schema.name}";\n`;
    }
    schemas.set("index", indexTS);
    return schemas;
}
exports.exportTypeScriptSchemas = exportTypeScriptSchemas;
//# sourceMappingURL=exportTypeScriptSchemas.js.map